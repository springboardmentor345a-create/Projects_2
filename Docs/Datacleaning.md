# Data Cleaning and Feature Selection Process

## The Overall Process: What We Did and Why

The main goal of this entire process was to perform **feature selection**. In machine learning, you start with a dataset that has many columns (features), but not all of them are useful for predicting your target. The process we followed was:

1. **Understand the Goal:** We first established that our primary objective is to "project goals." This means we want to predict goal-related outcomes for each of the three datasets.
2. **Inspect the Data:** We examined the columns of each of the three datasets to understand what information they contained.
3. **Identify and Remove Unnecessary Columns:** For each dataset, we identified columns that were not useful for our specific goal. We then modified the Jupyter notebooks to programmatically remove these columns, leaving us with cleaner, more focused datasets.

This is a crucial first step in building a machine learning model because it:

* **Improves Model Performance:** By removing irrelevant or redundant features, we reduce the "noise" in the data, which can help the model learn better from the important features.
* **Reduces Complexity:** Fewer columns mean a simpler model, which is faster to train and easier to understand and debug.
* **Avoids Data Leakage:** We removed columns that contained information about the outcome we are trying to predict. Including such columns would make our model seem perfect during training but would fail in the real world.

---

### Dataset 1: `Goals & Assist.xlsx`

**Goal:** To prepare a dataset for predicting a player's future goal and assist output.

| Abbreviation  | Full Name                  | Meaning                                                                                  | Reasoning for Decision (Keep/Remove)                                                                                                                                |
| :------------ | :------------------------- | :--------------------------------------------------------------------------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **---** | **---**              | **Kept Columns**                                                                   | **---**                                                                                                                                                       |
| Player        | Player Name                | The name of the player.                                                                  | **Kept:** Serves as a unique identifier for each player.                                                                                                      |
| Nation        | Nationality                | The nationality of the player.                                                           | **Kept:** A demographic feature that could potentially influence performance (e.g., league adaptation).                                                       |
| Pos           | Position                   | The player's primary position on the field (e.g., FW, MF, DF).                           | **Kept:** Crucial feature, as a player's position heavily influences their goal-scoring opportunities.                                                        |
| Age           | Age                        | The age of the player during the season.                                                 | **Kept:** Important demographic feature; performance typically changes with age.                                                                              |
| MP            | Matches Played             | The total number of matches the player has appeared in.                                  | **Kept:** A fundamental measure of a player's involvement and availability.                                                                                   |
| Starts        | Starts                     | The number of matches the player was in the starting lineup.                             | **Kept:** Provides more context on playing time and importance to the team than just `MP`.                                                                  |
| Mins          | Minutes                    | The total number of minutes the player has been on the field.                            | **Kept:** The most precise measure of a player's time on the pitch, essential for contextualizing their output.                                               |
| Gls           | Goals                      | The total number of goals scored by the player.                                          | **Kept:** This is our primary target variable for prediction.                                                                                                 |
| Ast           | Assists                    | The total number of assists made by the player.                                          | **Kept:** A key measure of a player's offensive contribution, often correlated with goal scoring.                                                             |
| nPG           | Non-Penalty Goals          | Goals scored from open play or free kicks (excludes penalty kicks).                      | **Kept:** Provides a clearer picture of a player's goal-scoring ability in open play.                                                                         |
| PK            | Penalty Kicks Made         | The number of penalty kicks successfully scored.                                         | **Kept:** Important for understanding a player's total goal count and their role as a penalty taker.                                                          |
| PKatt         | Penalty Kicks Attempted    | The total number of penalty kicks taken by the player.                                   | **Kept:** Provides context to `PK`; the conversion rate (`PK`/`PKatt`) can be a useful feature.                                                         |
| xG            | Expected Goals             | A statistical measure of the quality of shots taken.                                     | **Kept:** A powerful predictive feature that measures opportunity quality, often a better indicator of future performance than actual goals.                  |
| npxG          | Non-Penalty Expected Goals | Expected goals from all shots except penalty kicks.                                      | **Kept:** Isolates a player's expected output from open play, providing a more stable performance metric.                                                     |
| xAG           | Expected Assists           | A statistical measure of the quality of passes.                                          | **Kept:** Similar to `xG`, it measures the quality of chances created and is a strong predictor of future assists.                                          |
| PrgC          | Progressive Carries        | Number of times a player carried the ball significantly towards the opponent's goal.     | **Kept:** A measure of a player's ability to drive the ball forward, which is a valuable trait for creating scoring chances.                                  |
| PrgP          | Progressive Passes         | Number of completed passes that move the ball significantly towards the opponent's goal. | **Kept:** Indicates a player's ability to break lines and advance play, which is crucial for offensive contribution.                                          |
| PrgR          | Progressive Receives       | Number of times a player successfully receives a progressive pass.                       | **Kept:** Shows a player's ability to get into dangerous positions to receive the ball.                                                                       |
| **---** | **---**              | **Removed Columns**                                                                | **---**                                                                                                                                                       |
| 90s           | 90s Played                 | Minutes played divided by 90.                                                            | **Removed:** Redundant. This is a direct calculation from the `Mins` column (`Mins` / 90).                                                                |
| G+A           | Goals + Assists            | The sum of goals and assists.                                                            | **Removed:** Redundant. It's a simple sum of two features we are already keeping.                                                                             |
| YC            | Yellow Cards               | The number of yellow cards received.                                                     | **Removed:** Low predictive power. Disciplinary issues have a weak, indirect link to goal-scoring ability.                                                    |
| RC            | Red Cards                  | The number of red cards received.                                                        | **Removed:** Low predictive power. Same reasoning as for `YC`.                                                                                              |
| npxG+xAG      | Non-Penalty xG + xAG       | The sum of non-penalty expected goals and expected assists.                              | **Removed:** Redundant. It's a simple sum of two features we are already keeping.                                                                             |
| .../90        | ... Per 90 Minutes         | Any metric normalized to a "per 90 minutes" basis.                                       | **Removed:** Redundant/Complex. It's better to use the raw counts (`Gls`, `Mins`) and let the model learn the rate itself. This avoids multicollinearity. |

---

### Dataset 2: `Match Winner.csv`

**Goal:** To prepare a dataset for predicting the number of goals scored by the home and away teams in a match.

| Abbreviation  | Full Name                 | Meaning                                                                                        | Reasoning for Decision (Keep/Remove)                                                                                                         |
| :------------ | :------------------------ | :--------------------------------------------------------------------------------------------- | :------------------------------------------------------------------------------------------------------------------------------------------- |
| **---** | **---**             | **Kept Columns**                                                                         | **---**                                                                                                                                |
| Date          | Date                      | The date the match was played.                                                                 | **Kept:** Important for time-series analysis if we want to see how performance changes over time.                                      |
| HT            | Home Team                 | The name of the team playing at their home stadium.                                            | **Kept:** A required identifier for the match.                                                                                         |
| AT            | Away Team                 | The name of the team playing away from home.                                                   | **Kept:** A required identifier for the match.                                                                                         |
| FTHG          | Full-Time Home Goals      | The number of goals scored by the home team by the end of the match.                           | **Kept:** This is one of our primary target variables.                                                                                 |
| FTAG          | Full-Time Away Goals      | The number of goals scored by the away team by the end of the match.                           | **Kept:** This is our other primary target variable.                                                                                   |
| FTR           | Full-Time Result          | The final result of the match (H=Home Win, D=Draw, A=Away Win).                                | **Kept:** Provides important context about the match outcome, which is directly tied to the goals scored.                              |
| HTGS          | Home Team Goals Scored    | The total goals the home team had scored in the season*before* this match.                   | **Kept:** A key feature representing the team's season-long attacking strength.                                                        |
| ATGS          | Away Team Goals Scored    | The total goals the away team had scored in the season*before* this match.                   | **Kept:** A key feature representing the team's season-long attacking strength.                                                        |
| HTGC          | Home Team Goals Conceded  | The total goals the home team had conceded in the season*before* this match.                 | **Kept:** A key feature representing the team's season-long defensive vulnerability.                                                   |
| ATGC          | Away Team Goals Conceded  | The total goals the away team had conceded in the season*before* this match.                 | **Kept:** A key feature representing the team's season-long defensive vulnerability.                                                   |
| HTP           | Home Team Points          | The total league points the home team had*before* this match.                                | **Kept:** A strong indicator of the team's overall quality and success in the season.                                                  |
| ATP           | Away Team Points          | The total league points the away team had*before* this match.                                | **Kept:** A strong indicator of the team's overall quality and success in the season.                                                  |
| HTFormPts     | Home Team Form Points     | The league points the home team accumulated in their last few matches.                         | **Kept:** A crucial feature that captures a team's recent performance, which is highly predictive of short-term results.               |
| ATFormPts     | Away Team Form Points     | The league points the away team accumulated in their last few matches.                         | **Kept:** A crucial feature that captures a team's recent performance.                                                                 |
| HTGD          | Home Team Goal Difference | The home team's season goal difference (`HTGS` - `HTGC`).                                  | **Kept:** A good summary metric of a team's overall strength.                                                                          |
| ATGD          | Away Team Goal Difference | The away team's season goal difference (`ATGS` - `ATGC`).                                  | **Kept:** A good summary metric of a team's overall strength.                                                                          |
| DiffPts       | Difference in Points      | The difference in season points between the home and away teams (`HTP` - `ATP`).           | **Kept:** Explicitly tells the model the gap in quality between the two teams.                                                         |
| DiffFormPts   | Difference in Form Points | The difference in form points between the home and away teams (`HTFormPts` - `ATFormPts`). | **Kept:** Explicitly tells the model the gap in recent form between the two teams.                                                     |
| **---** | **---**             | **Removed Columns**                                                                      | **---**                                                                                                                                |
| HM1-5, AM1-5  | Home/Away Match 1-5       | The result of each of the last 5 matches for each team.                                        | **Removed:** Redundant. This information is already captured numerically and more effectively by the `...FormPts` columns.           |
| MW            | Match Winner              | The winner of the match.                                                                       | **Removed:** Data Leakage. The match winner is determined by the goals scored, so it cannot be used as a feature to predict the goals. |
| ...Str        | ... Form String           | A text version of a team's recent form, e.g., 'WDLWL'.                                         | **Removed:** Redundant. The `...FormPts` columns provide the same information in a superior, numerical format for modeling.          |
| ...Strk       | ... Streak                | A team's current winning or losing streak.                                                     | **Removed:** Redundant. Streak information is a component of form and is already implicitly included in the `...FormPts` columns.    |

---

### Dataset 3: `ScoreSight_ML_Season_LeagueWinner_Champion.csv`

**Goal:** To prepare a dataset for predicting the total number of goals a team will score in a season.

| Abbreviation  | Full Name              | Meaning                                                                   | Reasoning for Decision (Keep/Remove)                                                                                                            |
| :------------ | :--------------------- | :------------------------------------------------------------------------ | :---------------------------------------------------------------------------------------------------------------------------------------------- |
| **---** | **---**          | **Kept Columns**                                                    | **---**                                                                                                                                   |
| Season        | Season                 | The year the season took place (e.g., 2022-2023).                         | **Kept:** An identifier for the season.                                                                                                   |
| Team          | Team Name              | The name of the team.                                                     | **Kept:** An identifier for the team.                                                                                                     |
| MP            | Matches Played         | The total number of matches played in the season (usually 38).            | **Kept:** Provides the context for all other season-long stats.                                                                           |
| W             | Wins                   | The total number of matches won in the season.                            | **Kept:** A fundamental measure of a team's success.                                                                                      |
| D             | Draws                  | The total number of matches drawn in the season.                          | **Kept:** A fundamental measure of a team's success.                                                                                      |
| L             | Losses                 | The total number of matches lost in the season.                           | **Kept:** A fundamental measure of a team's success.                                                                                      |
| PPG           | Points Per Game        | The average number of points earned per game (`Total Points` / `MP`). | **Kept:** A normalized measure of a team's success over the season.                                                                       |
| GS            | Goals Scored           | The total number of goals the team scored in the season.                  | **Kept:** This is our primary target variable for this dataset.                                                                           |
| GC            | Goals Conceded         | The total number of goals the team conceded in the season.                | **Kept:** A key indicator of a team's defensive strength, which can influence their attacking style.                                      |
| GD            | Goal Difference        | The difference between goals scored and conceded (`GS` - `GC`).       | **Kept:** A powerful summary of a team's overall quality.                                                                                 |
| **---** | **---**          | **Removed Columns**                                                 | **---**                                                                                                                                   |
| Tgt_Pts       | Target Total Points    | The final total points of the team.                                       | **Removed:** Data Leakage. This is an outcome of the season. We cannot use it to predict another outcome (`GS`) within the same season. |
| Tgt_Pos       | Target League Position | The final league ranking of the team.                                     | **Removed:** Data Leakage. Same reasoning as `Tgt_Pts`.                                                                                 |
| Tgt_Champ     | Target Champion        | Whether the team won the league (1) or not (0).                           | **Removed:** Data Leakage. Same reasoning as `Tgt_Pts`.                                                                                 |
| Tgt_Top4      | Target Top 4           | Whether the team finished in the top 4 (1) or not (0).                    | **Removed:** Data Leakage. Same reasoning as `Tgt_Pts`.                                                                                 |
| Tgt_Top6      | Target Top 6           | Whether the team finished in the top 6 (1) or not (0).                    | **Removed:** Data Leakage. Same reasoning as `Tgt_Pts`.                                                                                 |
| Tgt_Rel       | Target Relegated       | Whether the team was relegated (1) or not (0).                            | **Removed:** Data Leakage. Same reasoning as `Tgt_Pts`.                                                                                 |
