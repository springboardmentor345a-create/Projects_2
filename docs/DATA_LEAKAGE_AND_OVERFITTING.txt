DATA LEAKAGE PREVENTION AND OVERFITTING MITIGATION
Date: 2025-10-30
Branch: Prathamesh_Fuke

Overview
- Goal: Ensure all model inputs reflect only information available BEFORE the event (match/season), and reduce redundant or high-leakage features to mitigate overfitting.
- Actions taken:
  - Removed target/outcome columns from match dataset (fthg, ftag, ftr_encoded).
  - Removed redundant/highly-correlated encodings and string forms (e.g., HM/AM last-5, form strings).
  - Kept only pre-event features for match prediction (form, streaks, points, goal diffs, team IDs, matchweek).
  - Clarified usage policy for player dataset to avoid leakage (use prior-season stats for pre-season prediction; use partial-season-to-date for in-season forecasting).
  - Simplified league dataset to focus on primary targets and core performance metrics.

===============================================================================
MATCH PREDICTION DATASET (data_final_match_prediction.csv)
===============================================================================
Problem framing: Predict a match outcome using ONLY information available before kickoff.

Used (Kept) Columns (23)
- htgs, atgs, htgc, atgc, htp, atp, mw, htformpts, atformpts,
  htwinstreak3, htwinstreak5, htlossstreak3, htlossstreak5,
  atwinstreak3, atwinstreak5, atlossstreak3, atlossstreak5,
  htgd, atgd, diffpts, diffformpts, hometeam_encoded, awayteam_encoded

Not Used (Dropped) Columns (Leakage/Redundant)
- fthg, ftag, ftr_encoded               (targets/leakage)
- date_encoded                           (temporal signal redundant with mw)
- htformptsstr_encoded, atformptsstr_encoded (string forms redundant with numeric)
- hm1_encoded, hm2_encoded, hm3_encoded, hm4_encoded, hm5_encoded
- am1_encoded, am2_encoded, am3_encoded, am4_encoded, am5_encoded
  (last-5 individual results; signal captured by form points and streaks)

Why this helps
- Data leakage eliminated by removing direct outcomes.
- Redundancy reduced (string/duplicate representations, highly specific last-5 encodings).
- Lower feature count => better generalization, reduced overfitting risk.

===============================================================================
PLAYER (TOP SCORER) DATASET (data_final_top_scorer.csv)
===============================================================================
Problem framing: Predict top scorer. Avoid leakage by using stats available BEFORE the prediction point.

Important usage policy
- Pre-season prediction: use prior-season (or career) stats only.
- Mid-season forecasting: use stats-to-date only (no end-of-season totals).

Used (Kept) Columns (21)
- age, matches_played, goals, assists, non_penalty_goals,
  penalty_goals_made, penalty_attempts, xg, npxg, xag, npxg_+_xag,
  goals_per_90, assists_per_90, goals_+_assists_per_90,
  non_penalty_goals_per_90, xg_per_90, xag_per_90, npxg_per_90,
  player_encoded, nation_encoded, position_encoded

Not Used (Dropped) Columns (Redundant/Irrelevant)
- unnamed:_0, starts, minutes, 90s_played,
  goals_+_assists, non_penalty_goals_+_assists_per_90,
  xg_+_xag_per_90, npxg_+_xag_per_90,
  yellow_cards, red_cards,
  progressive_carries, progressive_passes, progressive_receives

Leakage caution
- Columns like goals/assists/per-90 can cause leakage if they refer to the season being predicted at season end. They are safe only when used as prior-season features (pre-season) or as-to-date features (in-season).

Overfitting mitigation
- Removed derived duplicates and non-predictive discipline/progressive stats.
- Encourage regularization and validation by time (season-wise splits) in modeling.

===============================================================================
LEAGUE POINTS/CHAMPION DATASET (data_final_points_tally.csv)
===============================================================================
Problem framing: Predict points/position/champion with focused targets and core performance stats.

Used (Kept) Columns (10)
- matches_played, points_per_game, goals_scored, goals_conceded, goal_difference,
  target_total_points, target_league_position, target_champion,
  season_encoded, team_encoded

Not Used (Dropped) Columns (Secondary/Redundant)
- target_top_4, target_top_6, target_relegated (secondary targets)
- wins, draws, losses (redundant with points_per_game)

Overfitting mitigation
- Reduced targets to core objectives; removed redundant aggregates captured by PPG.

===============================================================================
GENERAL ANTI-LEAKAGE AND OVERFITTING GUIDELINES
===============================================================================
- Always confirm feature availability at prediction time (pre-match/pre-season).
- Prefer cumulative-to-date or prior-season features over end-of-season totals.
- Remove duplicate representations and string encodings if numeric equivalents exist.
- Validate with chronological splits (train on past seasons/matchweeks, test on future).
- Use regularization and early stopping; avoid excessive high-cardinality encodings where unnecessary.

Status
- All final datasets have been updated to remove direct leakage features and redundant columns.
- Documentation and scripts are aligned with this policy.
